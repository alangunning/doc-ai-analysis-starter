name: Validate Rendered Output
description: Compare original documents with their rendered representation.
model: gpt-4o-mini
modelParameters:
  temperature: 0
messages:
  - role: system
    content: |-
      You verify that a converted document representation matches the original.
  - role: user
    content: |-
      Compare the provided PDF and {format} content.
      Return ONLY JSON with this schema:
      {"match": bool,
       "issues": [
         {
           "page": int,
           "pdf_quote": str,
           "md_quote": str,
           "type": "number_mismatch"|"missing_text"|"extra_text"|"table_structure"|"heading_level"|"other",
           "confidence": float
         }
       ]
      }
      If everything matches return {"match": true, "issues": []}.
      Cite short snippets from both sources for every mismatch.
